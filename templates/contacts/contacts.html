{% extends 'base.html' %}
{% load static %}
{% load content_tags %}

{% block title %}–ö–æ–Ω—Ç–∞–∫—Ç—ã - Avto-–î–µ–∫–æ—Ä{% endblock %}

{% block extra_css %}
<style>
    #map {
        border-radius: 0.5rem;
    }
    /* –°—Ç–∏–ª–∏ –¥–ª—è –±–∞–ª—É–Ω–∞ –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç */
    .ymaps-balloon {
        border-radius: 0.5rem;
    }
    .ymaps-balloon__content {
        padding: 15px;
    }
</style>
{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-20">
    <h1 class="text-5xl text-center mb-6 text-white">
        {% get_content 'contacts' 'title' '<span class="text-red-700">–ö–æ–Ω—Ç–∞–∫—Ç—ã</span>' %}
    </h1>
    <p class="text-xl text-center text-gray-400 mb-16 max-w-3xl mx-auto">
        {% get_content 'contacts' 'subtitle' '–°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –¥–ª—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –∏ –∑–∞–ø–∏—Å–∏ –Ω–∞ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ' %}
    </p>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
        <!-- Contact Information -->
        <div class="space-y-8">
            <div class="bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-lg p-8 border border-red-900/20">
                <h2 class="text-2xl mb-6 text-white">{% get_content 'contacts' 'info_title' '–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è' %}</h2>

                <div class="space-y-6">
                    <!-- Phone -->
                    <div class="flex items-start gap-4">
                        <div class="flex-shrink-0 w-12 h-12 bg-red-700/20 rounded-lg flex items-center justify-center">
                            <svg class="w-6 h-6 text-red-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                            </svg>
                        </div>
                        <div>
                            <div class="text-white mb-1">–¢–µ–ª–µ—Ñ–æ–Ω</div>
                                    <a
                                        href="tel:+79212282301"
                                        class="text-gray-400 hover:text-red-700 transition-colors"
                                    >
                                        +7 (921) 228-23-01
                                    </a>
                        </div>
                    </div>

                    <!-- Address -->
                    <div class="flex items-start gap-4">
                        <div class="flex-shrink-0 w-12 h-12 bg-red-700/20 rounded-lg flex items-center justify-center">
                            <svg class="w-6 h-6 text-red-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                            </svg>
                        </div>
                        <div>
                            <div class="text-white mb-1">–ê–¥—Ä–µ—Å</div>
                            <div class="text-gray-400">
                                –≥. –ü–µ—Ç—Ä–æ–∑–∞–≤–æ–¥—Å–∫, –ì–≤–∞—Ä–¥–µ–π—Å–∫–∞—è —É–ª., 20
                            </div>
                        </div>
                    </div>

                    <!-- Email -->
                    <div class="flex items-start gap-4">
                        <div class="flex-shrink-0 w-12 h-12 bg-red-700/20 rounded-lg flex items-center justify-center">
                            <svg class="w-6 h-6 text-red-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                            </svg>
                        </div>
                        <div>
                            <div class="text-white mb-1">Email</div>
                                    <a
                                        href="mailto:studio@avto-decor.com"
                                        class="text-gray-400 hover:text-red-700 transition-colors"
                                    >
                                        studio@avto-decor.com
                                    </a>
                        </div>
                    </div>

                    <!-- Working Hours -->
                    <div class="flex items-start gap-4">
                        <div class="flex-shrink-0 w-12 h-12 bg-red-700/20 rounded-lg flex items-center justify-center">
                            <svg class="w-6 h-6 text-red-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <div>
                            <div class="text-white mb-2">–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã</div>
                            <div class="text-gray-400 space-y-1">
                                <div>–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ - –ü—è—Ç–Ω–∏—Ü–∞: 9:00 - 18:00</div>
                                <div>–°—É–±–±–æ—Ç–∞: 10:00 - 16:00</div>
                                <div>–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ: –≤—ã—Ö–æ–¥–Ω–æ–π</div>
                            </div>
                        </div>
                    </div>

                    <!-- Social Networks -->
                    <div class="flex items-start gap-4">
                        <div class="flex-shrink-0 w-12 h-12 bg-red-700/20 rounded-lg flex items-center justify-center">
                            <svg class="w-6 h-6 text-red-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path>
                            </svg>
                        </div>
                        <div>
                            <div class="text-white mb-3">–ú—ã –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö</div>
                            <div class="flex items-center gap-3">
                                <!-- Telegram -->
                                <a
                                    href="https://t.me/avtodecorptz"
                                    target="_blank"
                                    rel="noopener noreferrer"
                                    class="flex items-center justify-center w-12 h-12 bg-red-700 hover:bg-red-800 transition-colors rounded-lg"
                                    aria-label="Telegram"
                                >
                                    <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                                        <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>
                                    </svg>
                                </a>
                                <!-- VK -->
                                <a
                                    href="https://vk.ru/avto_decor"
                                    target="_blank"
                                    rel="noopener noreferrer"
                                    class="flex items-center justify-center w-12 h-12 bg-red-700 hover:bg-red-800 transition-colors rounded-lg text-white font-bold"
                                    aria-label="–í–ö–æ–Ω—Ç–∞–∫—Ç–µ"
                                >
                                    –í–ö
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Contact Form -->
            <div class="bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-lg p-8 border border-red-900/20">
                <h2 class="text-2xl mb-6 text-white">{% get_content 'contacts' 'form_title' '–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É' %}</h2>
                
                {% if messages %}
                <div class="mb-6">
                    {% for message in messages %}
                    <div class="p-4 rounded-lg {% if message.tags == 'success' %}bg-green-900/30 border border-green-700/50 text-green-300{% else %}bg-red-900/30 border border-red-700/50 text-red-300{% endif %}">
                        {{ message }}
                    </div>
                    {% endfor %}
                </div>
                {% endif %}
                
                <form method="post" action="{% url 'contacts:contacts' %}" class="space-y-6">
                    {% csrf_token %}
                    
                    <!-- Name -->
                    <div>
                        <label for="{{ form.name.id_for_label }}" class="block text-white mb-2">
                            {{ form.name.label }}
                        </label>
                        {{ form.name }}
                        {% if form.name.errors %}
                        <div class="mt-1 text-red-400 text-sm">
                            {{ form.name.errors }}
                        </div>
                        {% endif %}
                    </div>
                    
                    <!-- Phone -->
                    <div>
                        <label for="{{ form.phone.id_for_label }}" class="block text-white mb-2">
                            {{ form.phone.label }}
                        </label>
                        {{ form.phone }}
                        {% if form.phone.errors %}
                        <div class="mt-1 text-red-400 text-sm">
                            {{ form.phone.errors }}
                        </div>
                        {% endif %}
                    </div>
                    
                    <!-- Email -->
                    <div>
                        <label for="{{ form.email.id_for_label }}" class="block text-white mb-2">
                            {{ form.email.label }}
                        </label>
                        {{ form.email }}
                        {% if form.email.errors %}
                        <div class="mt-1 text-red-400 text-sm">
                            {{ form.email.errors }}
                        </div>
                        {% endif %}
                    </div>
                    
                    <!-- Message -->
                    <div>
                        <label for="{{ form.message.id_for_label }}" class="block text-white mb-2">
                            {{ form.message.label }}
                        </label>
                        {{ form.message }}
                        {% if form.message.errors %}
                        <div class="mt-1 text-red-400 text-sm">
                            {{ form.message.errors }}
                        </div>
                        {% endif %}
                    </div>
                    
                    <!-- Submit Button -->
                    <button
                        type="submit"
                        class="w-full bg-red-700 hover:bg-red-800 transition-colors px-8 py-4 rounded-lg text-lg font-medium text-white"
                    >
                        –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É
                    </button>
                </form>
            </div>
            
        </div>

        <!-- Map -->
        <div class="bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-lg overflow-hidden border border-red-900/20 h-[600px]">
            <div id="map" class="w-full h-full"></div>
        </div>
    </div>

    <!-- CTA -->
    <div class="mt-16 bg-gradient-to-r from-red-900/30 to-red-700/30 rounded-2xl p-12 text-center border border-red-700/50">
        <h2 class="text-3xl mb-4 text-white">{% get_content 'contacts' 'cta_title' '–ì–æ—Ç–æ–≤—ã –æ–±—Å—É–¥–∏—Ç—å –≤–∞—à –ø—Ä–æ–µ–∫—Ç?' %}</h2>
        <p class="text-gray-300 mb-6">
            {% get_content 'contacts' 'cta_text' '–ü–æ–∑–≤–æ–Ω–∏—Ç–µ –Ω–∞–º –∏–ª–∏ –ø—Ä–∏–µ–∑–∂–∞–π—Ç–µ –≤ –Ω–∞—à—É —Å—Ç—É–¥–∏—é –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–π –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏' %}
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a
                href="tel:+79212282301"
                class="inline-flex items-center justify-center gap-2 bg-red-700 hover:bg-red-800 transition-colors px-8 py-4 rounded-lg text-lg"
            >
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                </svg>
                –ü–æ–∑–≤–æ–Ω–∏—Ç—å
            </a>
            <a
                href="mailto:studio@avto-decor.com"
                class="inline-flex items-center justify-center gap-2 bg-gray-800 hover:bg-gray-700 transition-colors px-8 py-4 rounded-lg text-lg"
            >
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                </svg>
                –ù–∞–ø–∏—Å–∞—Ç—å
            </a>
        </div>
    </div>
</div>

<!-- –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã API -->
<script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: –≥. –ü–µ—Ç—Ä–æ–∑–∞–≤–æ–¥—Å–∫, –ì–≤–∞—Ä–¥–µ–π—Å–∫–∞—è —É–ª., 10
        var coordinates = [61.754844, 34.431505]; // –¢–æ—á–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Å—Ç—É–¥–∏–∏
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã
        ymaps.ready(function() {
            var myMap = new ymaps.Map('map', {
                center: coordinates,
                zoom: 16,
                controls: ['zoomControl', 'fullscreenControl', 'typeSelector']
            }, {
                searchControlProvider: 'yandex#search'
            });

            // –î–æ–±–∞–≤–ª—è–µ–º –º–µ—Ç–∫—É —Å —Ç–æ—á–Ω—ã–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∫–æ–º–ø–∞–Ω–∏–∏
            var myPlacemark = new ymaps.Placemark(coordinates, {
                balloonContentHeader: '<strong style="color: #dc2626; font-size: 18px;">Avto-–î–µ–∫–æ—Ä</strong>',
                balloonContentBody: '<div style="color: #333; font-size: 14px; line-height: 1.6;">' +
                    '<p style="margin: 0 0 8px 0;"><strong>–¢—é–Ω–∏–Ω–≥-–∞—Ç–µ–ª—å–µ –°—Ç—É–¥–∏—è –¥–µ—Ç–µ–π–ª–∏–Ω–≥–∞</strong></p>' +
                    '<p style="margin: 0 0 8px 0;">üìç –≥. –ü–µ—Ç—Ä–æ–∑–∞–≤–æ–¥—Å–∫, –ì–≤–∞—Ä–¥–µ–π—Å–∫–∞—è —É–ª., 10</p>' +
                    '<p style="margin: 0 0 8px 0;">üìû –¢–µ–ª–µ—Ñ–æ–Ω: <a href="tel:+79212282301" style="color: #dc2626; text-decoration: none;">+7 (921) 228-23-01</a></p>' +
                    '<p style="margin: 0;"><a href="https://yandex.com/maps/-/CLhaIMYH" target="_blank" style="color: #dc2626; text-decoration: none;">üìç –û—Ç–∫—Ä—ã—Ç—å –≤ –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç–∞—Ö</a></p>' +
                    '</div>',
                balloonContentFooter: '',
                hintContent: 'Avto-–î–µ–∫–æ—Ä ‚Äî –¢—é–Ω–∏–Ω–≥-–∞—Ç–µ–ª—å–µ –°—Ç—É–¥–∏—è –¥–µ—Ç–µ–π–ª–∏–Ω–≥–∞'
            }, {
                preset: 'islands#redIcon',
                iconCaption: 'Avto-–î–µ–∫–æ—Ä'
            });
            
            myMap.geoObjects.add(myPlacemark);
            
            // –û—Ç–∫—Ä—ã–≤–∞–µ–º –±–∞–ª—É–Ω –ø—Ä–∏ –∫–ª–∏–∫–µ
            myPlacemark.events.add('click', function() {
                myPlacemark.balloon.open();
            });
        });
    });
</script>
{% endblock %}

