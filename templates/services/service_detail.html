{% extends 'base.html' %}
{% load static %}
{% load content_tags %}

{% block title %}{{ service.title }} - Avto-Декор{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="relative min-h-[300px] sm:min-h-[350px] md:min-h-[400px] flex items-center justify-center overflow-hidden">
    {% if service.image %}
    <div 
        class="absolute inset-0 bg-cover bg-center bg-no-repeat opacity-40"
        style="background-image: url('{{ service.image.url }}'); background-size: cover; background-position: center; background-attachment: scroll;"
    ></div>
    {% else %}
    <div 
        class="absolute inset-0 bg-cover bg-center bg-no-repeat opacity-40"
        style="background-image: url('https://images.unsplash.com/photo-1599912027667-755b68b4dd3b?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxsdXh1cnklMjBjYXIlMjBpbnRlcmlvcnxlbnwxfHx8fDE3NjcyNjQ0NTh8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral'); background-size: cover; background-position: center; background-attachment: scroll;"
    ></div>
    {% endif %}
    <div class="absolute inset-0 bg-gradient-to-b from-black/60 to-black/80"></div>
    
    <div class="container mx-auto px-4 relative z-10 text-center">
        <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl mb-4 sm:mb-6 text-white break-words">
            {{ service.title }}
        </h1>
        {% if service.short_description %}
        <p class="text-xl md:text-2xl text-gray-300 mb-8 max-w-3xl mx-auto">
            {{ service.short_description }}
        </p>
        {% endif %}
    </div>
</section>

<!-- Description Section -->
{% if service.description %}
<section class="container mx-auto px-4 py-20">
    <div class="max-w-4xl mx-auto">
        <div class="bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-lg p-8 md:p-12 border border-red-900/20">
            <h2 class="text-3xl mb-6 text-white">
                {% get_content 'services' 'about_title' 'О <span class="text-red-700">услуге</span>' %}
            </h2>
            <div class="text-gray-300 text-lg leading-relaxed whitespace-pre-line">
                {{ service.description }}
            </div>
        </div>
    </div>
</section>
{% endif %}

<!-- Content Blocks Section -->
{% if service.content %}
<section class="container mx-auto px-4 py-20">
    <div class="max-w-6xl mx-auto">
        <h2 class="text-4xl text-center mb-12 text-white">
            {% get_content 'services' 'details_title' 'Подробнее об <span class="text-red-700">услуге</span>' %}
        </h2>
        
        <div class="bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-lg p-8 md:p-12 border border-red-900/20">
            <div class="prose prose-invert max-w-none text-gray-300">
                <style>
                    .prose h2 {
                        color: #ffffff;
                        font-size: 1.875rem;
                        font-weight: 700;
                        margin-top: 2rem;
                        margin-bottom: 1rem;
                    }
                    .prose h2 span {
                        color: #dc2626;
                    }
                    .prose h3 {
                        color: #ffffff;
                        font-size: 1.5rem;
                        font-weight: 600;
                        margin-top: 1.5rem;
                        margin-bottom: 0.75rem;
                    }
                    .prose p {
                        color: #d1d5db;
                        line-height: 1.75;
                        margin-bottom: 1rem;
                    }
                </style>
                {{ service.content|safe }}
            </div>
        </div>
    </div>
</section>
{% endif %}

<!-- Image Block -->
{% if service.image %}
<section class="container mx-auto px-4 py-20">
    <div class="max-w-4xl mx-auto">
        <div class="rounded-lg overflow-hidden border border-red-900/20">
            <img
                src="{{ service.image.url }}"
                alt="{{ service.title }}"
                class="w-full h-auto object-cover"
            />
        </div>
    </div>
</section>
{% endif %}

<!-- Features List Section -->
{% if service.features %}
<section class="container mx-auto px-4 py-20">
    <div class="max-w-4xl mx-auto">
        <h2 class="text-4xl text-center mb-12 text-white">
            {% get_content 'services' 'features_title' 'Включает <span class="text-red-700">направления</span>' %}
        </h2>
        
        <div class="bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-lg p-8 border border-red-900/20">
            <ul class="space-y-4">
                {% for feature in service.get_features_list %}
                <li class="flex items-start gap-4">
                    <div class="flex-shrink-0 mt-1">
                        <svg class="w-6 h-6 text-red-700" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                    <span class="text-gray-300 text-lg">{{ feature }}</span>
                </li>
                {% endfor %}
            </ul>
        </div>
    </div>
</section>
{% endif %}

<!-- Features/Advantages Section -->
<section class="container mx-auto px-4 py-20">
    <div class="max-w-4xl mx-auto">
        <h2 class="text-4xl text-center mb-12 text-white">
            {% get_content 'services' 'advantages_title' 'Преимущества <span class="text-red-700">услуги</span>' %}
        </h2>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-lg p-6 border border-red-900/20">
                <div class="flex items-start gap-4">
                    <div class="flex-shrink-0">
                        <div class="w-12 h-12 bg-red-700/20 rounded-lg flex items-center justify-center">
                            <svg class="w-6 h-6 text-red-700" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-xl text-white mb-2">Высокое качество</h3>
                        <p class="text-gray-400">Используем только лучшие материалы и оборудование</p>
                    </div>
                </div>
            </div>
            
            <div class="bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-lg p-6 border border-red-900/20">
                <div class="flex items-start gap-4">
                    <div class="flex-shrink-0">
                        <div class="w-12 h-12 bg-red-700/20 rounded-lg flex items-center justify-center">
                            <svg class="w-6 h-6 text-red-700" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-xl text-white mb-2">Опытные мастера</h3>
                        <p class="text-gray-400">Профессионалы с многолетним опытом работы</p>
                    </div>
                </div>
            </div>
            
            <div class="bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-lg p-6 border border-red-900/20">
                <div class="flex items-start gap-4">
                    <div class="flex-shrink-0">
                        <div class="w-12 h-12 bg-red-700/20 rounded-lg flex items-center justify-center">
                            <svg class="w-6 h-6 text-red-700" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-xl text-white mb-2">Гарантия</h3>
                        <p class="text-gray-400">Гарантия на все виды выполненных работ</p>
                    </div>
                </div>
            </div>
            
            <div class="bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-lg p-6 border border-red-900/20">
                <div class="flex items-start gap-4">
                    <div class="flex-shrink-0">
                        <div class="w-12 h-12 bg-red-700/20 rounded-lg flex items-center justify-center">
                            <svg class="w-6 h-6 text-red-700" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                            </svg>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-xl text-white mb-2">Индивидуальный подход</h3>
                        <p class="text-gray-400">К каждому клиенту и его автомобилю</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="container mx-auto px-4 py-20">
    <div class="bg-gradient-to-r from-red-900/30 to-red-700/30 rounded-2xl p-6 sm:p-8 md:p-12 text-center border border-red-700/50">
        <h2 class="text-2xl sm:text-3xl md:text-4xl mb-4 text-white break-words">{% get_content 'services' 'service_cta_title' 'Заинтересовала услуга?' %}</h2>
        <p class="text-base sm:text-lg md:text-xl text-gray-300 mb-6 sm:mb-8 break-words">
            {% get_content 'services' 'service_cta_text' 'Свяжитесь с нами для консультации и расчета стоимости' %}
        </p>
        <div class="flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center">
            <a
                href="tel:+79212282301"
                class="inline-flex items-center justify-center gap-2 bg-red-700 hover:bg-red-800 transition-colors px-6 sm:px-8 py-3 sm:py-4 rounded-lg text-base sm:text-lg break-words"
            >
                <svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                </svg>
                <span class="break-words">+7 (921) 228-23-01</span>
            </a>
            <a
                href="{% url 'contacts:contacts' %}"
                class="inline-flex items-center justify-center gap-2 bg-gray-800 hover:bg-gray-700 transition-colors px-6 sm:px-8 py-3 sm:py-4 rounded-lg text-base sm:text-lg break-words"
            >
                <svg class="w-5 h-5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                </svg>
                <span class="break-words">Связаться с нами</span>
            </a>
        </div>
    </div>
</section>
{% endblock %}
