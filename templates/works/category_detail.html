{% extends 'base.html' %}
{% load static %}

{% block title %}{{ category.name }} - Наши Работы - Avto-Декор{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-20">
    <!-- Back Button -->
    <div class="mb-8">
        <a href="{% url 'works:list' %}" class="inline-flex items-center gap-2 text-gray-400 hover:text-red-700 transition-colors">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
            </svg>
            Назад к категориям
        </a>
    </div>

    <h1 class="text-5xl text-center mb-6 text-white">
        {{ category.name }}
    </h1>
    <p class="text-xl text-center text-gray-400 mb-12 max-w-3xl mx-auto">
        Выполненные работы в категории "{{ category.name }}"
    </p>

    <!-- Works Mosaic Grid -->
    {% if works %}
    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
        {% for work in works %}
        <div class="group relative overflow-hidden rounded-lg border border-red-900/20 hover:border-red-700/50 transition-all hover:scale-105 aspect-square">
            <img
                src="{{ work.image.url }}"
                alt="{{ category.name }} - работа {{ forloop.counter }}"
                class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
            />
            <div class="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors"></div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <!-- Empty State -->
    <div class="text-center py-20">
        <p class="text-gray-400 text-xl">В этой категории пока нет работ</p>
    </div>
    {% endif %}
</div>
{% endblock %}

