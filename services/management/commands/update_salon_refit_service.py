"""
Команда для обновления услуги "Переоборудование салонов" с подробной информацией
"""
from django.core.management.base import BaseCommand
from services.models import Service
from loguru import logger


class Command(BaseCommand):
    """
    Команда для обновления услуги "Переоборудование салонов" с детальной информацией
    """
    help = 'Обновляет услугу "Переоборудование салонов" с подробной информацией'

    def handle(self, *args, **options):
        """
        Обновление услуги "Переоборудование салонов"
        """
        try:
            service = Service.objects.get(slug='pereoborudovanie-salonov')
        except Service.DoesNotExist:
            self.stdout.write(
                self.style.ERROR('Услуга "Переоборудование салонов" не найдена. Сначала создайте её через create_services.')
            )
            return

        # Краткое описание для карточек
        short_description = (
            'Изменение внутреннего убранства салона под ваши предпочтения. Переоборудование и дооборудование салона '
            'автомобиля с использованием качественных материалов и индивидуального подхода.'
        )

        # Основное описание
        description = (
            'В нашу компанию часто обращаются клиенты за помощью в изменении внутреннего убранства салона и улучшению '
            'его комфортности и качества. Все эти улучшения, возможно сделать с помощью переоборудования салона.\n\n'
            'Переоборудование салона – это изменение салона автомобиля под Ваши предпочтения. Наша команда специалистов, '
            'воплотит все Ваши мечты в реальность. Салон автомобиля будет такой, какой захотите Вы. Мы используем качественные '
            'материалы для переоборудования салона. Переоборудование микроавтобусов, автобусов, легковых автомобилей и прочей техники. '
            'Это далеко не все основные транспортные средства, которые возможно переоборудовать у нас.'
        )

        # Дополнительный контент (HTML поддерживается)
        content = (
            '<h2>Наши услуги по переоборудованию салона</h2>\n'
            '<h3>Перетяжка салона автомобиля</h3>\n'
            '<p>Выполним перетяжку салона автомобиля. Перетяжку салона автомобиля, мы делаем только из качественных материалов. '
            'На выбор заказчика, мы предоставим большой ассортимент материалов. Мы сможем посоветовать материал для перетяжки, '
            'который лучше подойдет к вашему салону.</p>\n\n'
            '<h3>Переоборудование салона</h3>\n'
            '<p>Наши специалисты сделают как переоборудование, так и дооборудование Вашего салона. В переоборудование салона может входить:</p>\n'
            '<ul>\n'
            '<li>установка ауди и видео техники</li>\n'
            '<li>мини бар</li>\n'
            '<li>дополнительный обогреватель</li>\n'
            '<li>холодильник</li>\n'
            '<li>поручни</li>\n'
            '<li>и много другого</li>\n'
            '</ul>\n\n'
            '<p>Весь список изменений можно согласовать с нами. Под каждого клиента мы делаем индивидуальное переоборудование салонов.</p>\n\n'
            '<h3>Различные переделки</h3>\n'
            '<p>Мы не ограничиваем наших заказчиков рамками определенных услуг. Нашему клиенту, мы готовы предложить весь спектр услуг, '
            'а так же исполнить его индивидуальные запросы, которые не возьмутся сделать в других салонах декора.</p>\n\n'
            '<p>Мы даем гарантию на переоборудование Вашего салона. Выполним все качественно и создадим неповторимый дизайн салона.</p>\n\n'
            '<h2>Основные преимущества нашего переоборудования</h2>\n'
            '<ul>\n'
            '<li>Только качественные материалы</li>\n'
            '<li>Гарантия на выполненные работы по переоборудованию</li>\n'
            '<li>Опытные сотрудники</li>\n'
            '<li>Выполнение сроков работ</li>\n'
            '<li>Высокое качество переоборудования за приемлемую цену</li>\n'
            '<li>Большой опыт, которым мы готовы поделиться</li>\n'
            '</ul>\n\n'
            '<p>Переоборудование салонов предоставляем как для легковых автомобилей, автобусов и микроавтобусов, а так же для другого транспорта. '
            'Обратитесь к нам, что бы получить более полную информацию по услуге переоборудование.</p>'
        )

        # Список направлений/услуг
        features = (
            'Перетяжка салона автомобиля\n'
            'Переоборудование салона\n'
            'Дооборудование салона\n'
            'Установка ауди и видео техники\n'
            'Установка мини бара\n'
            'Установка дополнительного обогревателя\n'
            'Установка холодильника\n'
            'Установка поручней\n'
            'Индивидуальные переделки\n'
            'Переоборудование легковых автомобилей\n'
            'Переоборудование автобусов\n'
            'Переоборудование микроавтобусов\n'
            'Переоборудование другой техники\n'
            'Большой ассортимент материалов\n'
            'Гарантия на выполненные работы\n'
            'Индивидуальный подход к каждому клиенту'
        )

        # Обновляем услугу
        service.short_description = short_description
        service.description = description
        service.content = content
        service.features = features
        service.save()

        logger.info(f'Услуга "{service.title}" успешно обновлена')
        self.stdout.write(
            self.style.SUCCESS(f'Услуга "{service.title}" успешно обновлена с подробной информацией')
        )
