"""
Команда для обновления услуги "Нанокерамика" с подробной информацией
"""
from django.core.management.base import BaseCommand
from services.models import Service
from loguru import logger


class Command(BaseCommand):
    """
    Команда для обновления услуги "Нанокерамика" с детальной информацией
    """
    help = 'Обновляет услугу "Нанокерамика" с подробной информацией'

    def handle(self, *args, **options):
        """
        Обновление услуги "Нанокерамика"
        """
        try:
            service = Service.objects.get(slug='nanokeramika')
        except Service.DoesNotExist:
            self.stdout.write(
                self.style.ERROR('Услуга "Нанокерамика" не найдена. Сначала создайте её через create_services.')
            )
            return

        # Краткое описание для карточек
        short_description = (
            'Эволюция в защите кузова авто. Керамическое покрытие Opti-Coat Pro от OPT (США). '
            'Защита на 5-7 лет, твердость 9H, гидрофобный эффект, гарантия 5 лет.'
        )

        # Основное описание
        description = (
            'Эволюция в защите кузова авто.\n\n'
            'Каждый автолюбитель хочет, чтобы его авто даже по прошествии длительного времени выглядело, как из салона. '
            'Без должной защиты лакокрасочное покрытие авто постепенно тускнеет, появятся мелкие царапины, лак стирается. '
            'Как следствие, экстерьер перестанет радовать хозяина, а стоимость автомобиля при последующей продаже снижается.\n\n'
            'Несколько лет назад появились первые защитные покрытия для кузова автомобиля, которые изготавливались на основе воска. '
            'Они не обеспечивали длительный и надежный защитный эффект: быстро стирались на мойках и под воздействием атмосферных осадков, '
            'выгорали на солнце, тяжело наносились.\n\n'
            'За несколько лет ситуация на рынке автомобильной химии изменилась: разработаны покрытия, которые по своим защитным свойствам '
            'в десятки раз превосходят составы на основе воска. Это керамические составы, по-другому «жидкое стекло».'
        )

        # Дополнительный контент (HTML поддерживается)
        content = (
            '<h2>Выбор керамического покрытия</h2>\n'
            '<p>Специалисты автоателье «Авто-Декор» детально изучали керамические составы, чтобы выбрать для работы оптимальный вариант с лучшими характеристиками. '
            'Мы произвели подробный анализ керамических составов: исследовали химический состав покрытий, их алгоритм нанесения на кузов автомобиля, '
            'соотношение «цена-качество».</p>\n\n'
            '<p>В результате исследований мы остановили выбор на продукции крупного всемирно известного производителя <strong>Optimum Polymer Technologies (OPT), США</strong> — '
            'лидера в сфере производства и продажи инновационных защитных составов для авто.</p>\n\n'
            '<p>Защитные покрытия для авто от OPT изготавливается на основе карбида кремния, запатентовано в США и не имеет равнозначных аналогов. '
            'В США покрытие производится с 2005 года, в России стало доступно с 2014. Успешно используется в автосалонах крупнейших мировых производителей: '
            'Mercedes Benz, BMW, Honda, Volvo, Nissan, Toyota, Suzuki, Mazda.</p>\n\n'
            '<h2>Нанокерамика: правда или миф?</h2>\n'
            '<p>Многие слышали слово «нанокерамика». Часто центры техобслуживания привлекают внимание клиентов обещаниями нанести на кузов авто нанокерамику за небольшие деньги. '
            'Приставка «нано» часто применяется к современным товарам и вызывает сомнение.</p>\n\n'
            '<p>В некоторых покрытиях действительно присутствует нанопорошок из диоксида титана, который повышает адгезию состава, не дает покрытию тускнеть и желтеть. '
            'Но он не добавляет покрытиям прочность.</p>\n\n'
            '<p>Настоящее керамическое покрытие — итог серьезной работы ученых-химиков. В составе керамического покрытия <strong>Opti-Coat Pro</strong> от OPT, которое используют в работе мастера '
            '«Авто-Декор» используются полиуретан и изоционат для непревзойденной прочности и гибкости защитной пленки.</p>\n\n'
            '<p>У Opti-Coat Pro нет в составе нано-порошка диоксида титана, в покрытии присутствует более усовершенствованный пигмент. '
            '<strong>Opti-Coat Pro — не нанокерамика! Это настоящее керамическое покрытие.</strong> Оно не продается в интернет-магазинах и доступно только для профессиональных детейлинг-центров.</p>\n\n'
            '<p>Специалисты студии «Авто-Декор» наносят керамическое покрытие с соблюдением оригинальной технологии. Теоретические знания и практические навыки профессионального нанесения покрытий '
            'мастера «Авто-Декор» получили за рубежом в Учебном центре компании OPT.</p>\n\n'
            '<h2>Зачем нужно керамическое покрытие?</h2>\n'
            '<p>«Родное» лакокрасочное покрытие автомобиля подвержено негативному воздействию внешней среды, так как не обладает достаточной прочностью и твердостью. '
            'Химические реагенты, камни, песок, пыль, солнечные лучи — все это наносит урон кузову авто.</p>\n\n'
            '<p>Причиненный ущерб можно убрать с помощью профессиональной абразивной полировки, но оригинальное покрытие не бесконечно. После четырех абразивных полировок заводское покрытие '
            'достигает минимальной толщины, дальнейшие работы приведут к печальным последствиям.</p>\n\n'
            '<p>Керамика Opti-Coat Pro Plus нужна для надежной и длительной защиты кузова авто. На сегодняшний день химическая формула керамического покрытия SiC (карбид кремния) не имеет аналогов в Мире. '
            'Твердость покрытия выше 9H по шкале Мооса, а схожие по назначению и свойствам покрытия имеют твердость, ниже 7Н.</p>\n\n'
            '<p>После нанесения Opti-Coat Pro Plus на лакокрасочном покрытии образуется защитная пленка толщиной 2 микрона — этот показатель выше более чем в 100 раз по отношению к другим покрытиям. '
            'Защитная пленка Opti-Coat Pro Plus не истирается на мойках, не смывается атмосферными осадками. Его можно убрать только с помощью профессиональной абразивной полировки.</p>\n\n'
            '<p>Сегодня рынок переполнен огромным количеством дешевых покрытий. 90% из них — покрытия с Китая, которые реализуются под названиями «керамика» и «нанокерамика». '
            'В реальности же в лучшем случае они имеют состав SiO2 и с керамикой у них нет ничего общего. Остерегайтесь подделок — не покупайте самостоятельно псевдозащитные составы.</p>\n\n'
            '<h2>Преимущества керамического состава Opti-Coat Pro</h2>\n'
            '<p>Как уже упоминалось, Opti-Coat Pro защищает ЛКП авто от химических реагентов, продуктов жизнедеятельности птиц, механических повреждений, выгорания на солнце. '
            'Покрытие обладает долгим гидрофобным эффектом, эффектом самоочищения, эффектов леденца, обеспечивает покрытию непревзойденную гладкость, блеск и насыщение цвета.</p>\n\n'
            '<p>Opti-Coat — многослойное покрытие, которое состоит из базового первого слоя (Opti-Coat Pro) и верхнего слоя для еще большей непревзойденной защиты (Opti-Coat Pro Plus). '
            'Имеет температуру плавления 2730 °С, что более, чем на 1100 °С превышает температуру плавления других покрытий.</p>\n\n'
            '<p>Блеск и глянец после нанесения покрытия усиливается в течение месяца, и сохраняется на максимальном уровне на протяжении 7-и лет. '
            'Другие, более экономичные, покрытия быстро теряют свой блеск и требуют дополнительного восстановления блеска.</p>\n\n'
            '<p>При должном уходе за автомобилем гарантируется полное отсутствие паутины от моек. Основной уход заключается в двухфазной мойке автомобиля. '
            'Первая фаза — бесконтактная мойка кузова авто. Вторая фаза — мойка автомобиля губкой с моющим раствором. При таком подходе Ваше авто будет в идеальном состоянии.</p>\n\n'
            '<p>Автоателье «Авто-Декор» предоставляет на нанесение керамического покрытия фирменную гарантию 5 лет. Покрытия Opti-Coat Pro и Opti-Coat Pro Plus не требует обновления, только правильный уход.</p>\n\n'
            '<h2>Как наносится керамическое покрытие?</h2>\n'
            '<p>Нанесение керамического покрытия — трудоемкая процедура, которая выполняется опытными специалистами с применением профессионального оборудования и материалов. '
            'Процесс включает в себя нескольких этапов:</p>\n'
            '<ul class="space-y-2 mb-4">\n'
            '<li class="flex items-start gap-2">\n'
            '<span class="text-red-700 mt-1">•</span>\n'
            '<span>Тщательная мойка и чистка кузова с помощью специальных профессиональных средств</span>\n'
            '</li>\n'
            '<li class="flex items-start gap-2">\n'
            '<span class="text-red-700 mt-1">•</span>\n'
            '<span>Абразивная двухшаговая полировка кузова и фар</span>\n'
            '</li>\n'
            '<li class="flex items-start gap-2">\n'
            '<span class="text-red-700 mt-1">•</span>\n'
            '<span>Обезжиривание поверхности специальными средствами, не повреждающими ЛКП авто</span>\n'
            '</li>\n'
            '<li class="flex items-start gap-2">\n'
            '<span class="text-red-700 mt-1">•</span>\n'
            '<span>При необходимости устранение сколов</span>\n'
            '</li>\n'
            '<li class="flex items-start gap-2">\n'
            '<span class="text-red-700 mt-1">•</span>\n'
            '<span>Нанесение керамики в 1-5 слоев с промежуточной просушкой</span>\n'
            '</li>\n'
            '<li class="flex items-start gap-2">\n'
            '<span class="text-red-700 mt-1">•</span>\n'
            '<span>Процесс полимеризации в течении 12 часов</span>\n'
            '</li>\n'
            '</ul>\n\n'
            '<h2>Как ухаживать за кузовом, покрытым керамическим составом?</h2>\n'
            '<p>Минимум 14 дней после нанесения керамики нельзя мыть автомобиль, так как покрытие не до конца закрепилось и сформировалось. '
            'Производители рекомендуют избегать мойки авто 3-4 недели. Эта рекомендация объясняется тем, что 90% защитных свойств покрытие набирает практически сразу, за первые 12 часов. '
            'Остальные 10% в течение 30 дней, и мойка может повредить его.</p>\n\n'
            '<p>По истечении 30 дней после нанесения керамического покрытия ухаживать за автомобилем можно в обычном режиме. Для лучшего результата используйте двухступенчатую мойку: '
            'сочетание бесконтактной мойки и бережной мойки кузова автомобиля мягкой губкой со специальным раствором.</p>\n\n'
            '<h2>Подведем итоги</h2>\n'
            '<ul class="space-y-3 mb-4">\n'
            '<li class="flex items-start gap-2">\n'
            '<span class="text-red-700 mt-1">✓</span>\n'
            '<span>Действия дешевых покрытий хватает максимум на 2-3 месяца, состав Opti-Coat Pro надежно защищает кузов Вашего авто минимум 5-7 лет. '
            'Это достигается за счет специального состава, в который входят изоционат и полиуретан. Благодаря этим компонентам на поверхности образуется прочный слой толщиной в 2 микрона.</span>\n'
            '</li>\n'
            '<li class="flex items-start gap-2">\n'
            '<span class="text-red-700 mt-1">✓</span>\n'
            '<span>Защитное керамическое покрытие защищает поверхность авто от воздействий окружающей среды, сложных погодных условий, мелких царапин. '
            'Обладает эффектом самоочищения и гидрофобными свойствами.</span>\n'
            '</li>\n'
            '<li class="flex items-start gap-2">\n'
            '<span class="text-red-700 mt-1">✓</span>\n'
            '<span>Создаёт глубину цвета, яркий блеск, сохраняет безукоризненный вид авто надолго. Благодаря специальному составу покрытия ЛКП не изнашивается даже после длительного воздействия солнечных лучей.</span>\n'
            '</li>\n'
            '<li class="flex items-start gap-2">\n'
            '<span class="text-red-700 mt-1">✓</span>\n'
            '<span>Керамическое покрытие не истирается на мойках, устойчиво к химическим реагентам. Удалить защитный слой Opti-Coat Pro возможно только с помощью восстановительной полировки.</span>\n'
            '</li>\n'
            '<li class="flex items-start gap-2">\n'
            '<span class="text-red-700 mt-1">✓</span>\n'
            '<span>Покрытие обладает выравнивающим эффектом: покрывает мелкие впадины и выпуклости, защищает поверхность ЛКП от загрязнений, сохраняет его красоту.</span>\n'
            '</li>\n'
            '<li class="flex items-start gap-2">\n'
            '<span class="text-red-700 mt-1">✓</span>\n'
            '<span>Opti-Coat Pro подходит без исключения для всех цветов кузова, для колесных дисков, пластиковых элементов и других деталей авто, кроме стекол.</span>\n'
            '</li>\n'
            '</ul>\n\n'
            '<p>Большинство автолюбителей ухаживает за ЛКП авто в летний период. Это не верно. Кузов авто требует одинакового ухода в летний и зимний периоды. '
            'Зимой ЛКП автомобиля подвержено агрессивным химическим реагентам, страдает от грязи, снега и осколков льда. Летом негативные факторы — это пыль, песок, мелкие камни, частые мойки, ультрафиолет, кислотные дожди.</p>\n\n'
            '<p>Круглый год проверенное временем современное защитное инновационное керамическое покрытие Opti-Coat Pro надёжно защитит кузов Вашего автомобиля. '
            'Это не жидкое и не кварцевое стекло. Это керамическое покрытие с эксклюзивной химической формулой карбида кремния SiC (Silicon Carbide), недоступной ни одному другому покрытию на рынке.</p>\n\n'
            '<p><strong>Подарите автомобилю безупречный внешний вид и непревзойденную защиту от повреждений надолго — воспользуйтесь услугой профессионального нанесения высококачественного керамического покрытия Opti-Coat Pro в автоателье «Авто-Декор»!</strong></p>'
        )

        # Список направлений/услуг
        features = (
            'Керамическое покрытие Opti-Coat Pro (OPT, США)\n'
            'Защита на 5-7 лет\n'
            'Твердость 9H по шкале Мооса\n'
            'Толщина защитной пленки 2 микрона\n'
            'Гидрофобный эффект\n'
            'Эффект самоочищения\n'
            'Эффект леденца\n'
            'Защита от химических реагентов\n'
            'Защита от механических повреждений\n'
            'Защита от выгорания на солнце\n'
            'Глубина цвета и яркий блеск\n'
            'Многослойное покрытие (Pro + Pro Plus)\n'
            'Температура плавления 2730°С\n'
            'Гарантия 5 лет\n'
            'Профессиональное нанесение\n'
            'Обучение в Учебном центре OPT\n'
            'Двухфазная мойка для ухода\n'
            'Подходит для всех цветов кузова\n'
            'Для колесных дисков и пластика\n'
            'Карбид кремния SiC (Silicon Carbide)'
        )

        # Обновляем услугу
        service.short_description = short_description
        service.description = description
        service.content = content
        service.features = features
        service.save()

        logger.info(f'Услуга "{service.title}" успешно обновлена')
        self.stdout.write(
            self.style.SUCCESS(f'Услуга "{service.title}" успешно обновлена с подробной информацией')
        )
