"""
Команда для обновления услуги "Установка музыки" с подробной информацией
"""
from django.core.management.base import BaseCommand
from services.models import Service
from loguru import logger


class Command(BaseCommand):
    """
    Команда для обновления услуги "Установка музыки" с детальной информацией
    """
    help = 'Обновляет услугу "Установка музыки" с подробной информацией'

    def handle(self, *args, **options):
        """
        Обновление услуги "Установка музыки"
        """
        try:
            service = Service.objects.get(slug='music')
        except Service.DoesNotExist:
            self.stdout.write(
                self.style.ERROR('Услуга "Установка музыки" не найдена. Сначала создайте её через create_services.')
            )
            return

        # Краткое описание для карточек
        short_description = (
            'Установка музыки класса Hi-Fi в автомобиль. Профессиональная установка автомагнитол, сабвуферов, '
            'усилителей и других компонентов аудиосистемы для качественного звука.'
        )

        # Основное описание
        description = (
            'Сделать Ваш автомобиль комфортней и привлекательней для окружающих, поможет установка музыки класса Hi-Fi.\n\n'
            'Автозвук в наши времена играет важную роль. Прошло время простеньких магнитол и динамиков, которые при громком '
            'звуке музыки раздражают пассажиров своим «плоским» звучанием.\n\n'
            'Сегодня, в нашем распоряжении десятки компаний, которые выпускают на рынок свои передовые разработки в плане автозвука. '
            'Ценовая конкуренция за покупателя, заставляет производителей повышать качество товара, без значительного повышения цены. '
            'Установка музыки сегодня – это богатый выбор автомагнитол, усилителей, сабвуферов и прочих аксессуаров, для достижения '
            'максимального эффекта.\n\n'
            'В связи с таким большим ассортиментом устройств, установка музыки в автомобиль – специфична. Ваш автомобиль – это связка '
            'сложных технических решений, где много электрических цепей и компьютерных технологий. Залезая в начинку автомобиля, при '
            'установке автозвука, нужно помнить, что на качество звука на прямую влияет способ ее установки. Так же, не забывайте о '
            'безопасности! Неправильная установка может вызвать короткое замыкание в цепи и как следствие - возгорание автомобиля. '
            'Доверьте установку магнитолы в машину и прочих устройств нашим профессионалам.'
        )

        # Дополнительный контент (HTML поддерживается)
        content = (
            '<h2>Особенности установки</h2>\n'
            '<p>Если у Вас новый автомобиль, и он еще находится на гарантийном обслуживании, то обязательно нужно устанавливать '
            'автозвук сертифицированный производителем, что бы не потерять гарантию. Так же нужно знать, что все работы должны быть '
            'выполнены в сервис-центре, что значительно увеличивает стоимость работ. Эти все особенности нужно обговаривать при заказе '
            'услуг по тюнингу машины (установка сабвуфера, замена штатной магнитолы, установка усилителя, замена штатных динамиков и т.д).</p>\n\n'
            '<p>Позвоните нам и мы с удовольствием воплотим Ваши мечты в реальность!</p>\n\n'
            '<h2>Установка автомагнитолы</h2>\n'
            '<p>Установка магнитолы – это первое, о чем задумывается автолюбитель при улучшении автозвука в машине. От того, какого качества '
            'выходит аудио сигнал с магнитолы, будет зависеть возможность дальнейшей работы с аудиосистемой машины. Если установленная магнитола '
            'на данный момент не выдает того качества, которое необходимо, то нет смысла ставить дальнейшее оборудование и работать с автозвуком '
            'в автомобиле.</p>\n\n'
            '<p>Наши специалисты оценят установленную магнитолу на данный момент и примут решение о замене ее или оставят магнитолу на месте, '
            'если она соответствует качеству звучания. Установка современной магнитолы может значительно улучшить звук и визуальное оформление '
            'передней торпеды автомобиля.</p>\n\n'
            '<h2>Установка сабвуфера</h2>\n'
            '<p>Ваш автомобиль может звучать во всех диапазонах частот. Все зависит от аудио системы, которая у Вас установлена. Установка сабвуфера, '
            'поможет добавить в салон дополнительный вид акустики. Установка сабвуфера в автомобиль, позволит воспроизводить звуки в определенных '
            'частотах. Обычно это не выше 100Гц. Сабвуфер – представляет собой динамик с большой площадью.</p>\n\n'
            '<p>Многие музыкальные произведения теряют свою яркость и привлекательность для водителя, если отсутствует сабвуфер.</p>\n\n'
            '<p>Штатные сабвуферы, которые встречаются в штатной аудиосистеме машин классов D – в большинстве случаев не отражают полноты качества звука. '
            'Из-за этого владельцы таких автомобилей заказывают установку сабвуфера или его замену на более качественный вариант, обладающий необходимыми '
            'характеристиками. Этот факт еще раз доказывает, стандартное качество от производителя, не всегда приемлемо для потребителя. Для всех классов '
            'машин характерна установка или замена сабвуфера.</p>\n\n'
            '<h3>Где устанавливается сабвуфер</h3>\n'
            '<p>Устанавливается сабвуфер обычно в багажнике автомобиля, т.к для работы такого музыкального оборудования, требуется соответствующее место, '
            'где сабвуфер будет звучать правильно. Так же, большое пространство для установки сабвуфера, позволяет проявить творческий подход к работе.</p>\n\n'
            '<p>По мимо багажника, есть примеры необычной установки сабвуфера, когда обладатели авто идут на смелые решения и просят встроить сабвуфер '
            'в переднюю панель автомобиля (торпеду). Но это не всегда практично из-за технических сложностей такой установки и его дальнейшее использование.</p>\n\n'
            '<p>Какие только не бывают сабвуферы. Выберите тот, который Вам по душе и мастера нашего салона «Авто-Декор» установят его. '
            'Прочувствуйте всю многогранность звука с установленным сабвуфером!</p>'
        )

        # Список направлений/услуг
        features = (
            'Установка автомагнитолы\n'
            'Замена штатной магнитолы\n'
            'Установка сабвуфера\n'
            'Замена штатного сабвуфера\n'
            'Установка усилителя\n'
            'Замена штатных динамиков\n'
            'Установка компонентной акустики\n'
            'Установка коаксиальной акустики\n'
            'Установка в багажнике\n'
            'Нестандартная установка (в торпеду)\n'
            'Настройка аудиосистемы\n'
            'Сертифицированное оборудование (для гарантии)\n'
            'Профессиональная установка с соблюдением безопасности\n'
            'Консультация по выбору оборудования'
        )

        # Обновляем услугу
        service.short_description = short_description
        service.description = description
        service.content = content
        service.features = features
        service.save()

        logger.info(f'Услуга "{service.title}" успешно обновлена')
        self.stdout.write(
            self.style.SUCCESS(f'Услуга "{service.title}" успешно обновлена с подробной информацией')
        )
