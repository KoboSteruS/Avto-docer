"""
Команда для обновления услуги "Реставрация мебели" (Перетяжка мебели) с подробной информацией
"""
from django.core.management.base import BaseCommand
from services.models import Service
from loguru import logger


class Command(BaseCommand):
    """
    Команда для обновления услуги "Реставрация мебели" с детальной информацией
    """
    help = 'Обновляет услугу "Реставрация мебели" с подробной информацией о перетяжке мебели'

    def handle(self, *args, **options):
        """
        Обновление услуги "Реставрация мебели"
        """
        try:
            service = Service.objects.get(slug='restavratsiya-mebeli')
        except Service.DoesNotExist:
            self.stdout.write(
                self.style.ERROR('Услуга "Реставрация мебели" не найдена. Сначала создайте её через create_services.')
            )
            return

        # Краткое описание для карточек
        short_description = (
            'Реставрация и ремонт старой мебели. Восстановление диванов, стульев, полок, тумбочек и другой мебели. '
            'Сохранение дорогих сердцу предметов с приданием им современного вида.'
        )

        # Основное описание
        description = (
            'У многих из нас, дома много старой мебели, которая связана с какими-то приятными событиями в жизни. Такую мебель не хочется выбрасывать, '
            'но и ужиться с ней в современных условиях становится все сложнее. Для тех, кто не хочет расставаться со старой мебелью, существует услуга '
            'реставрации мебели и ремонт мягкой мебели.\n\n'
            'Нужно оценить состояние мебели и решить, что выгоднее, реставрировать старую (ремонт мягкой мебели) или покупать новую. Если же мебель Вам '
            'действительно дорога, то специалисты нашего салона могут восстановить и привести мебель в отличное состояние.\n\n'
            'Студия «Авто-Декор» предлагает Вам сохранить мебель. Реставрация мебели – одно из направлений нашей компании. Для просмотра возможности '
            'реставрации, необходимо обратить пристальное внимание на мебель. Ремонт мягкой мебели начинается именно с ее осмотра и оценки повреждений.\n\n'
            'Прежде всего, необходимо оценить характер повреждения мебели. От состояния ремонтируемого объекта, будет на прямую зависеть стоимость и сроки реставрации мебели.'
        )

        # Дополнительный контент (HTML поддерживается)
        content = (
            '<h2>Ремонт диванов</h2>\n'
            '<p>Например, у старого дивана может треснуть ножка и ремонт без замены данной ножки, не сможет вернуть ей былую прочность и красоту. Поэтому, '
            'необходимо изготовить новую ножку и она должна максимально повторять форму старой. Реставрация деревянной мебели – это творческая работа, '
            'требующая кропотливый подход и точное повторение заменяемых деталей. Наши специалисты любят свою работу, поэтому подходят к ней тщательно!</p>\n\n'
            '<p>Если Вы не уверены, что Ваша мебель поддается восстановлению и ремонту, то советуем Вам вызвать нашего специалиста, что бы он на месте оценил '
            'характер повреждения мебели и дал заключение о пригодности к реставрации.</p>\n\n'
            '<h2>Ремонт мебели</h2>\n'
            '<p>Мы ремонтируем не только диваны, нам можно принести на ремонт любую мебель. Одна из распространённых причин поломки мебели – порванная или '
            'протертая обивка. Это рассматривается как мелкий ремонт. Наши специалисты подберут необходимый материал для реставрации мебели. Если Вам необходимо '
            'изменение внешнего вида обивки, то мы дадим Вам консультацию при выборе материала для реставрации.</p>\n\n'
            '<p>Наши специалисты имеют большой опыт в реставрации мебели, а так же ее перетяжке. Они не только могут отремонтировать и придать новый вид при '
            'реставрации мебели, но и посоветовать свежие идеи реставрации мебели. Мы можем отреставрировать и модернизировать мебель – придать новый вид. '
            'При смене интерьера иногда возникает необходимость изменить цветовую гамму мебели.</p>\n\n'
            '<h2>Ремонт стульев и прочей мебели</h2>\n'
            '<p>Ремонт стульев, полок, тумбочек и т.д. В Авто-Декоре возможно все. Золотые руки наших мастеров можно оценить по знаменитому выражению: '
            '«Талантливый человек - талантлив во всём». Добро пожаловать в Авто-Декор!</p>\n\n'
            '<p>Не смотря на весь наш опыт в реставрации мебели, окончательное решение остается за Вами!</p>\n\n'
            '<h2>Сколько времени может эксплуатироваться мягкая мебель без необходимости капитального ремонта?</h2>\n'
            '<p>Каждый производитель заявляет свои сроки эксплуатации мебели и предоставляет гарантийные обязательства. В отличие от корпусных предметов, '
            'мягкая мебель имеет более ограниченные сроки, поскольку используется более интенсивно.</p>\n\n'
            '<p>Без необходимости перетяжки мебель может в принципе, эксплуатироваться очень долго при условии бережного отношения к ней, своевременной чистки. '
            'Драповые ткани, велюр и другие материалы могут прослужить гарантированно не более 5 лет, дальнейшее их благополучие полностью зависит от ухода '
            'и интенсивности эксплуатации. Если мебелью пользуются дети, люди с избыточной массой, она подвергается интенсивному износу, поэтому рассчитывать '
            'на ее безупречную длительную службу сложно.</p>\n\n'
            '<p>Функциональность наполнителя зависит от его модели, а также от условий использования мягкой мебели. Если диван, кресло или пуф постоянно подвергается '
            'значительному механическому давлению, избыточному увлажнению и другим нагрузкам, то наполнитель может быстро потерять свою упругость, мягкость. '
            'Мебель может при этом выглядеть не опрятной, с провалившимися участками, обивка при этом получает заломы, сминается.</p>\n\n'
            '<p>Колесики, пружины, механизмы трансформации всегда находятся среди комплектующих, к которым предъявляются повышенные нормативные требования. '
            'Производитель может заявлять на них, а может и не заявлять гарантийные обязательства, хотя, безусловно, применяет только комплектующие, удовлетворяющие '
            'требованиям стандартов. При использовании мебели сложно соблюдать все рекомендации производителя, в квартирах имеются перепады высот, настелены ковры, '
            'зачастую мебель не выставляется строго горизонтально. Поэтому происходит перекос конструкции и, как следствие, выход из строя деталей, не исключается '
            'при этом и повреждение обивки. Отскочившая пружина, например, может порвать драп, а упавший из-за поломки колеса пуф повредиться о какие-либо твердые '
            'острые предметы.</p>\n\n'
            '<p>Необходимость перетяжки мебели определяет сам владелец, ориентируясь на свои личные предпочтения, размер бюджета.</p>\n\n'
            '<h2>Что включает в себя услуга по перетяжке мебели?</h2>\n'
            '<p>Под услугой перетяжки мебели подразумевается целый комплекс мероприятий, включающий:</p>\n'
            '<ul>\n'
            '<li>визит мастера для уточнения деталей предстоящей работы</li>\n'
            '<li>оценку целесообразности реставрации с предоставлением расчетов о стоимости материалов и работ</li>\n'
            '<li>консультирование по выбору типа обивки, цвета</li>\n'
            '<li>рассмотрение возможности изменение конфигурации мебели (по желанию клиента)</li>\n'
            '<li>транспортировку, только в том случае, если требуется серьезная реставрация с применением тяжелого стационарного оборудования</li>\n'
            '<li>ремонт с заменой или без деревянных элементов, замена фурнитуры, механизма трансформации, колес, подлокотников, пружин</li>\n'
            '<li>замена наполнителя</li>\n'
            '<li>обтяжка мебели на дому или в мастерской</li>\n'
            '<li>покрытие деревянных элементов лаком</li>\n'
            '</ul>\n\n'
            '<p>В нашей компании вы можете заказать перетяжку мебели с гарантией отличного качества исполнения работ и экономичных расценок. Мы располагаем штатом '
            'квалифицированных специалистов, в нашем распоряжении транспорт, все необходимое для выполнения реставрационных работ эффективное оборудование, инструменты '
            'и приспособления. Восстановлению подлежат практически все модели мягкой мебели: диваны, кресла любой конфигурации, в том числе кресла-кровати, угловые и кухонные '
            'модели, пуфы, стулья, кушетки и т.д.</p>\n\n'
            '<p>Подробное профессиональное консультирование избавит от вас от сомнений в верности выбранного решения о перетяжке мебели, ведь данное мероприятие способно '
            'вернуть ей первоначальную привлекательность, полностью восстановить и даже увеличить функциональность.</p>\n\n'
            '<h2>Купить новую или сделать перетяжку мягкой мебели?</h2>\n'
            '<p>Ранок сегодня предлагает покупателям избыточный ассортимент товаров различного назначения, в том числе привлекательные новизной форм и фактуры обивочных '
            'материалов мягкие мебельные комплекты и отдельные предметы с обивкой. Но покупка всегда сопряжена с необходимостью тщательного выбора по размерам, типу механизмов '
            'трансформации (некоторые из них очень надежные, некоторые не вполне), хлопотами по транспортировке, сборке и установке мебели и существенной тратой денег.</p>\n\n'
            '<p>Товары по низким ценам могут не удовлетворять качеством изготовления, некоторые из них значительно отличаются от стандартных параметров, поскольку изготовлены '
            'по азиатским стандартам. Сидеть и лежать в низкой, узкой или недостаточной по длине мебели может оказаться крайне неудобным.</p>\n\n'
            '<p>Кроме того, новая дешевая мебель может быть выполнена из каркаса сомнительного качества, определить визуально это практически невозможно, поскольку каркас порою '
            'полностью скрыт под обивкой. В то время как для каркасов мягкой мебели, выпускавшейся ранее, применялась только натуральная древесина.</p>\n\n'
            '<p>Поэтому перетяжка мебели является рациональным вариантом реставрации. Необходимо только правильно определиться с поставщиком услуг, предоставляющим гарантию и '
            'имеющим профильную специализацию.</p>\n\n'
            '<h2>Преимущества обращения в нашу компанию</h2>\n'
            '<p>Наша мастерская обладает правом осуществления ремонта мебели, в том числе мы имеем разрешение установленного образца на перетяжку мебели с заменой элементов. '
            'Компания существует уже продолжительное время и обрела расположение многих клиентов тем что:</p>\n'
            '<ul>\n'
            '<li>у нас работают доброжелательные, добросовестные и профессиональные специалисты</li>\n'
            '<li>мы располагаем всем необходимым для качественного выполнения реставрации мебели</li>\n'
            '<li>быстро реагируем на заявку клиента и ориентируемся на его предпочтения по части времени визита, бюджетирования, срочности исполнения</li>\n'
            '<li>предоставляем бесплатный визит мастера, грузчиков, транспорт и упаковку</li>\n'
            '<li>выполняем все работы качественно в мастерской или по месту нахождения мебели</li>\n'
            '<li>у нас большой ассортимент обивочных тканей, фурнитуры, также мы выполняем обивку мебели из материалов заказчика</li>\n'
            '<li>мы предлагаем низкие расценки на весь ассортимент услуг и всегда готовы дать рекомендации по поводу общего удешевления заказа</li>\n'
            '<li>предоставляем длительные гарантии на выполненные работы (на некоторые виды услуг 10 лет)</li>\n'
            '</ul>\n\n'
            '<p>Если вы озадачены вопросом, стоит ли вам приобретать новую мебель, позвоните нам, и мы совместно с вами определим целесообразность покупки или перетяжки мебели.</p>'
        )

        # Список направлений/услуг
        features = (
            'Реставрация старой мебели\n'
            'Ремонт диванов\n'
            'Ремонт стульев\n'
            'Ремонт полок\n'
            'Ремонт тумбочек\n'
            'Реставрация деревянной мебели\n'
            'Изготовление новых деталей (ножки, элементы)\n'
            'Ремонт порванной обивки\n'
            'Ремонт протертой обивки\n'
            'Замена обивки\n'
            'Подбор материалов для реставрации\n'
            'Консультация по выбору материалов\n'
            'Изменение внешнего вида обивки\n'
            'Изменение цветовой гаммы мебели\n'
            'Модернизация мебели\n'
            'Придание нового вида старой мебели\n'
            'Оценка состояния мебели\n'
            'Выезд специалиста на место\n'
            'Оценка пригодности к реставрации\n'
            'Творческий подход к реставрации\n'
            'Точное повторение заменяемых деталей\n'
            'Большой опыт в реставрации\n'
            'Свежие идеи реставрации'
        )

        # Обновляем услугу
        service.short_description = short_description
        service.description = description
        service.content = content
        service.features = features
        service.save()

        logger.info(f'Услуга "{service.title}" успешно обновлена')
        self.stdout.write(
            self.style.SUCCESS(f'Услуга "{service.title}" успешно обновлена с подробной информацией')
        )
