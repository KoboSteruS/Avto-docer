"""
Команда для обновления услуги "Детейлинг" с подробной информацией
"""
from django.core.management.base import BaseCommand
from services.models import Service
from loguru import logger


class Command(BaseCommand):
    """
    Команда для обновления услуги "Детейлинг" с детальной информацией
    """
    help = 'Обновляет услугу "Детейлинг" с подробной информацией'

    def handle(self, *args, **options):
        """
        Обновление услуги "Детейлинг"
        """
        try:
            service = Service.objects.get(slug='detejling')
        except Service.DoesNotExist:
            self.stdout.write(
                self.style.ERROR('Услуга "Детейлинг" не найдена. Сначала создайте её через create_services.')
            )
            return

        # Краткое описание для карточек
        short_description = (
            'Премиум уход за автомобилем экстракласса. Идеальная чистота, бриллиантовый блеск и защита кузова. '
            'Профессиональный детейлинг для безупречного внешнего вида.'
        )

        # Основное описание
        description = (
            'Детейлинг это то, что мгновенно выделяет один автомобиль из массы себе подобных, независимо от марки и возраста. '
            'Идеальная, сверкающая чистота внутри и снаружи, тяжелый бриллиантовый блеск, и неуязвимость внешнего покрытия. '
            'Безупречность – вот, что приходит на ум при виде машины, для которой был произведен тщательный детейлинг: '
            'уход за автомобилем экстракласса!\n\n'
            'Премиум уход за автомобилем – это Hi End, это все лучшее, что современные производители могут предложить автолюбителю, '
            'профессиональному водителю и мастерам по ремонту и обслуживанию машин.\n\n'
            'Высокоэффективные универсальные средства для удаления загрязнений и полировки, защита со сроком эксплуатации в несколько лет, '
            'кондиционеры, возвращающие салону первозданное состояние, диэлектрические спреи, защищающие контакты. Передовые технологии '
            'не поступают в розничную продажу – они поставляются оптом организациям, занимающимся обслуживанием авто, после обучения их '
            'сотрудников на курсах детейлинга и получения ими сертификатов соответствия.'
        )

        # Дополнительный контент (HTML поддерживается)
        content = (
            '<h2>Что дает детейлинг</h2>\n'
            '<p>Применение детейлерами своих профессиональных приемов и некоторых хитростей полезно автовладельцу тем, что дает:</p>\n'
            '<ul>\n'
            '<li>снижение затрат на регулярный уход и мойку;</li>\n'
            '<li>увеличение продолжительности жизни кузова: защита металла и краски от коррозии, реагентов и ультрафиолета;</li>\n'
            '<li>длительную чистоту внутри и снаружи;</li>\n'
            '<li>ощущение «нового авто», каждый раз при посадке в салон;</li>\n'
            '<li>полные зависти взгляды встречных и попутных водителей и пешеходов;</li>\n'
            '<li>возможность продать автомобиль гораздо дороже, чем позволяет его техническое состояние.</li>\n'
            '</ul>\n\n'
            '<p>Процедуры можно проходить и по отдельности: если машина уже отполирована снаружи, остается озаботиться только чистотой салона '
            'и подкапотного пространства. Если к интерьеру относились бережно «с конвейера», достаточно будет укрепить его с помощью '
            'бронировки стекол и произвести восстановительную полировку ЛКП, следом защитив ее упрочняющим составом.</p>\n\n'
            '<h2>Подготовительный этап</h2>\n'
            '<p>Мойка автомобиля перед любыми манипуляциями с ним является первым условием достижения необходимого результата.</p>\n'
            '<ul>\n'
            '<li>Премиум мойка автомобиля производится предварительными и основными составами CarTech Pro или Chemical_Guys, позволяющими '
            'очистить битумные пятна, снять старый воск, бережно удалить въевшиеся и застарелые загрязнения.</li>\n'
            '<li>На всех этапах детейлинг-работ используется защитная одежда от Kimberly-Clark, исключающая случайные царапины на свежей поверхности, '
            'а также оборудование TROMMELBERG и WiederKraft, позволяющее бережно и корректно вывесить авто для всестороннего обслуживания.</li>\n'
            '<li>Бесконтактная мойка автомобиля проводится средствами Shine Systems, Koch Chemie, при помощи профессионального оборудования Karcher '
            'и пеногенераторов Kwazar.</li>\n'
            '<li>Последующая обработка кузова полировальной глиной 3М, Willson или Soft99 позволяет извлечь песчинки, глубоко засевшие в '
            'лакокрасочном покрытии.</li>\n'
            '</ul>\n\n'
            '<h2>Интерьер</h2>\n'
            '<p>Детейлинг интерьера автомобиля избавляет его владельца и пассажиров от опасности аллергии на залежи пыли, скапливающейся в обивке, '
            'мрачного вида потертых и оцарапанных пластиковых деталей, позволяет очистить воздух в прокуренном салоне и предотвратить последующее '
            'впитывание неприятных запахов обивкой.</p>\n'
            '<ul>\n'
            '<li>Чистка кожаного салона производится с помощью пен для очистки от FurnitureClinic, LeTech, Koch Chemie и консервантов для защиты '
            'от загрязнений и потертостей LCK и Kangaroo.</li>\n'
            '<li>Ручная чистка салона при помощи профессионального набора кисточек от Vikan гарантирует удаление засорений из труднодоступных мест '
            'на торпеде, в стыках дверных карт зазорах пластиковой облицовки.</li>\n'
            '<li>Полная последовательная обработка интерьера озонаторами от Koch Chemie и антибактериальная очистка поверхностей.</li>\n'
            '<li>Уход за алькантарой с помощью BMW PRO Line.</li>\n'
            '<li>Чистка двигателя: ручной уход за моторным отсеком с помощью продукции Koch Chemie Unna и обработка пластиковых деталей '
            'антистатическими кондиционерами от CarTech Pro (он же Vogelchen).</li>\n'
            '</ul>\n\n'
            '<h2>Экстерьер</h2>\n'
            '<p>Для достижения машиной безупречного внешнего вида, следует произвести текущий ремонт ЛКП.</p>\n'
            '<h3>Беспокрасочное или локально-восстановительное удаление вмятин, потертостей и сколов:</h3>\n'
            '<ul>\n'
            '<li>абразивная бумага и шлифовальные насадки Deerfos;</li>\n'
            '<li>сертифицированные толщинномеры и люксометры от ЕвроТрэйд;</li>\n'
            '<li>лампы контроля и освещения от BIRING;</li>\n'
            '<li>краскопульты и пневматическое оборудование от Huberth;</li>\n'
            '<li>расходные материалы и «малярка» от Mipa и Jetapro.</li>\n'
            '</ul>\n\n'
            '<h3>Восстановление ЛКП:</h3>\n'
            '<p>В легких случаях – одношаговая паста на водной основе Auto Magic, в более сложных – абразивная полировка с помощью инструментов '
            'MIRKA и Rupes, полировальников Royal Pads, Hanko и Lake Countrу Mfg, пастами Menzerna, 3M, Meguiars или двухступенчатыми составами от FLEX.</p>\n\n'
            '<h3>Защитная полировка и уход за лакокрасочным покрытием:</h3>\n'
            '<p>Выполняется с применением лучшей автокосметики: Ultra Technologies, Koch Chemie, NanoCrystal, Brayt; воски силанты и глейзы от Wizards, '
            'Collinite и Soft99; консервирующий состав NanoMagic TWIN WAX от Koch Chemie; мокрый блеск от US Glaze; цветовосстанавливающие составы '
            'Poorboys World, Willson и Turtle Wax Jet Black для ухода за черными автомобилями.</p>\n\n'
            '<h3>Защитные покрытия для ЛКП:</h3>\n'
            '<ul>\n'
            '<li>нанопокрытие CTG PRO TEC;</li>\n'
            '<li>жидкое стекло Willson, SONAX Premium Class или NanoLack;</li>\n'
            '<li>Наонкерамика Nano Ceramic Protect, Ceramic Pro, NanoQuick или Nanolex;</li>\n'
            '<li>Защитные керамические покрытия ServFaces;</li>\n'
            '<li>кварцевая оболочка от GYEON или комплекс S2 Optima от DNF Duraclean Ceramic.</li>\n'
            '</ul>\n\n'
            '<p>Все это – высокогидрофобные, негорючие, устойчивые к ультрафиолету и агрессивным химическим соединениям покрытия, '
            'индекс твердости большинства из которых составляет 9H.</p>\n\n'
            '<h2>Колеса</h2>\n'
            '<p>В разряд работ по уходу за дисками и резиной входят:</p>\n'
            '<ul>\n'
            '<li>очистка и защита колесных дисков спреями Waxoyl и водоотталкивающими составами Soft99 Wheel Dust Blocker;</li>\n'
            '<li>обработка жаропрочными защитными полимерами Nanoskin Brake Dust Wheel Protective (позволяет избавиться от скопления пыли '
            'с тормозных колодок и спекания ее в складках рельефа литья);</li>\n'
            '<li>уход за хромированными деталями, полировка AutoSol и Menzerna;</li>\n'
            '<li>антигравийная защита и очистители Wurth PRO;</li>\n'
            '<li>очистка и защита покрышек с помощью бесцветных полиролей Allegrini и SONAX.</li>\n'
            '</ul>\n\n'
            '<h2>Оптика</h2>\n'
            '<p>Вернуть прозрачность лобовому стеклу и фарам помогает восстановительная полировка стекол и пластика составами Mirka, SONAX или CARMATE. '
            'Она позволяет избавиться от дефектов, «дорожек» от дворников, помутнения и царапин. Восстановительная полировка оптики с пластиковой '
            'поверхностью выполняется средствами CARMATE или Rupes.</p>\n\n'
            '<p>Для защиты от гравия из-под колес впереди идущего транспорта применяется бронирование фар защитными пленками или нанесение состава '
            'Meguiar\'s Perfect Clarity Headlight 2000, создающего гладкий прочный слой высокой прозрачности.</p>\n\n'
            '<p>Сохранить чистоту и отталкивать влагу остеклению и оптике помогает антидождь Kragen или гидрофобные покрытия GfSINTEZ.</p>\n\n'
            '<h2>Защита внутри и снаружи</h2>\n'
            '<p>В компетенцию детейлинга входит антигравийная обработка крыльев, порогов и арок с использованием полимерных пленок и аэрозольных '
            'составов 3М или Jeta. Это позволит избежать ущерба ЛКП при столкновении с мелкими камнями, стесывании о препятствия, под воздействием '
            'реагента на зимних дорогах.</p>\n\n'
            '<p>Бронирование лобовых стекол защитой Clear Plex и бронировка боковых окон от проникновения материалами AutoProTech. Помогут сохранить '
            'салон неприкосновенным от грабителей на парковке и пассажиров – от осколков стекла, в случае ДТП.</p>\n\n'
            '<p>Тонировка Ultra Vision, Llumar, Sun Tec или антиблик от Armolan – защитят салон от перегрева, обивку от разрушительного воздействия '
            'ультрафиолета и позволят скрыть интерьер от любопытных глаз.</p>\n\n'
            '<h2>Качество – за разумные деньги</h2>\n'
            '<p>Детейлинг – это дорого. С первого взгляда, со второго и с третьего автомобиль будет смотреться идеальным, на 100% ухоженным и дорогим, '
            'несмотря на возраст. Эффекта от применяемых профессионалами процедур можно добиться только одним путем: доверить нам свою машину и '
            'наслаждаться результатом.</p>'
        )

        # Список направлений/услуг
        features = (
            'Премиум мойка автомобиля (CarTech Pro, Chemical_Guys)\n'
            'Бесконтактная мойка (Shine Systems, Koch Chemie)\n'
            'Обработка кузова полировальной глиной (3М, Willson, Soft99)\n'
            'Чистка кожаного салона (FurnitureClinic, LeTech, Koch Chemie)\n'
            'Ручная чистка салона (Vikan)\n'
            'Озонирование и антибактериальная очистка\n'
            'Уход за алькантарой (BMW PRO Line)\n'
            'Чистка двигателя (Koch Chemie Unna)\n'
            'Восстановление ЛКП (MIRKA, Rupes, Menzerna, 3M, Meguiars)\n'
            'Защитная полировка (Ultra Technologies, Koch Chemie, NanoCrystal)\n'
            'Нанопокрытие и жидкое стекло\n'
            'Керамические покрытия (Ceramic Pro, Nanolex, GYEON)\n'
            'Уход за колесами и дисками\n'
            'Восстановительная полировка оптики\n'
            'Бронирование стекол и фар\n'
            'Антигравийная обработка\n'
            'Тонировка (Ultra Vision, Llumar, Sun Tec)'
        )

        # Обновляем услугу
        service.short_description = short_description
        service.description = description
        service.content = content
        service.features = features
        service.save()

        logger.info(f'Услуга "{service.title}" успешно обновлена')
        self.stdout.write(
            self.style.SUCCESS(f'Услуга "{service.title}" успешно обновлена с подробной информацией')
        )
