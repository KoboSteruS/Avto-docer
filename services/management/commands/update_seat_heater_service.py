"""
Команда для обновления услуги "Установка подогрева сидений и руля" с подробной информацией
"""
from django.core.management.base import BaseCommand
from services.models import Service
from loguru import logger


class Command(BaseCommand):
    """
    Команда для обновления услуги "Установка подогрева сидений и руля" с детальной информацией
    """
    help = 'Обновляет услугу "Установка подогрева сидений и руля" с подробной информацией'

    def handle(self, *args, **options):
        """
        Обновление услуги "Установка подогрева сидений и руля"
        """
        try:
            service = Service.objects.get(slug='ustanovka-podogreva-sidenij-i-rulya')
        except Service.DoesNotExist:
            self.stdout.write(
                self.style.ERROR('Услуга "Установка подогрева сидений и руля" не найдена. Сначала создайте её через create_services.')
            )
            return

        # Краткое описание для карточек
        short_description = (
            'Установка подогрева сидений и руля для комфорта в холодное время года. Качественные гибкие нагреватели, '
            'профессиональный монтаж с учетом безопасности.'
        )

        # Основное описание
        description = (
            'Компания Авто-Декор рада представить Вам услугу по установке подогрева на сидения Вашего автомобиля. При установке подогрева сидений, '
            'наши специалисты используют только качественные материалы, ведь подогрев сидений должен устанавливаются с учетом безопасности и практичности материалов. '
            'Эта услуга пользуется большой популярностью у нас в Карелии, поэтому наши специалисты получили огромный опыт в установке электрических подогревателей автомобильных сидений.\n\n'
            'При установке подогрева сидений, мы используем гибкие нагреватели, которые легко принимают необходимую форму при деформации, при этом не разрушаясь. '
            'Так же наши обогреватели прочны на разрыв и имеют достаточный запас прочности.'
        )

        # Дополнительный контент (HTML поддерживается)
        content = (
            '<h2>Установка подогрева сидений</h2>\n'
            '<p>Компания Авто-Декор рада представить Вам услугу по установке подогрева на сидения Вашего автомобиля. При установке подогрева сидений, наши специалисты используют '
            'только качественные материалы, ведь подогрев сидений должен устанавливаются с учетом безопасности и практичности материалов. Эта услуга пользуется большой популярностью '
            'у нас в Карелии, поэтому наши специалисты получили огромный опыт в установке электрических подогревателей автомобильных сидений.</p>\n\n'
            '<p>При установке подогрева сидений, мы используем гибкие нагреватели, которые:</p>\n'
            '<ul>\n'
            '<li>легко принимают необходимую форму при деформации</li>\n'
            '<li>не разрушаются при деформации</li>\n'
            '<li>прочны на разрыв</li>\n'
            '<li>имеют достаточный запас прочности</li>\n'
            '</ul>\n\n'
            '<p>Позвоните нам и запишитесь на установку подогрева сидений. Теплое автокресло позволит Вам расслабится во время ожидания прогрева автомобиля, а не трястись от холода '
            'ожидая когда охлаждающая жидкость согреется до рабочей температуры.</p>\n\n'
            '<p>Для тех водителей, которые хотят присаживаться в уже нагретый автомобиль, существуют автомобильные отопители двигателя и салона, которые также доступны для установки '
            'в нашем авто ателье.</p>\n\n'
            '<h2>Установка подогрева руля</h2>\n'
            '<p>Комфортная поездка, что может быть лучше, когда вы за рулем автомобиля. Очень приятно ехать в теплом автокресле и держать в руках такой же теплый руль, а не одевать '
            'перчатки и трогать нечто холодное и неприятное. Многие водители управляют автомобилем в шерстяных перчатках, чем увеличивают риск попасть в аварийную ситуацию из-за слабого '
            'сцепления рук и рулевого колеса. Так же, отводя руки от рулевого колеса мы иногда подносим руки к источнику тепла, чем так же увеличиваем риск ДТП.</p>\n\n'
            '<p>Для комфортной езды, помимо подогрева сидений, рекомендуем установить подогрев руля. Установка подогрева руля осуществляется с помощью тепло кабеля, который аккуратно '
            'монтируется в руль и создает приятное впечатление от поездки.</p>\n\n'
            '<p>Что бы Ваш руль был не только теплый, но и приятный на вид, в нашем авто ателье можно заказать перетяжку руля.</p>\n\n'
            '<h2>Преимущества установки подогрева</h2>\n'
            '<p>Подогрев кресла и руля обеспечит Вам приятную зимнюю поездку! Вы получите:</p>\n'
            '<ul>\n'
            '<li>Комфорт в холодное время года</li>\n'
            '<li>Безопасность (не нужно отвлекаться на холод)</li>\n'
            '<li>Улучшенное сцепление рук с рулевым колесом</li>\n'
            '<li>Приятные ощущения от поездки</li>\n'
            '<li>Возможность расслабиться во время прогрева автомобиля</li>\n'
            '</ul>'
        )

        # Список направлений/услуг
        features = (
            'Установка подогрева сидений\n'
            'Установка подогрева руля\n'
            'Гибкие нагреватели для сидений\n'
            'Тепло кабель для руля\n'
            'Качественные материалы\n'
            'Установка с учетом безопасности\n'
            'Профессиональный монтаж\n'
            'Опыт установки в условиях Карелии\n'
            'Электрические подогреватели\n'
            'Прочные на разрыв обогреватели\n'
            'Достаточный запас прочности\n'
            'Комплексная установка (сидения + руль)\n'
            'Перетяжка руля (дополнительно)\n'
            'Автомобильные отопители двигателя и салона\n'
            'Гарантия на выполненные работы'
        )

        # Обновляем услугу
        service.short_description = short_description
        service.description = description
        service.content = content
        service.features = features
        service.save()

        logger.info(f'Услуга "{service.title}" успешно обновлена')
        self.stdout.write(
            self.style.SUCCESS(f'Услуга "{service.title}" успешно обновлена с подробной информацией')
        )
