"""
Команда для обновления услуги "Автотюнинг" с подробной информацией
"""
from django.core.management.base import BaseCommand
from services.models import Service
from loguru import logger


class Command(BaseCommand):
    """
    Команда для обновления услуги "Автотюнинг" с детальной информацией
    """
    help = 'Обновляет услугу "Автотюнинг" с подробной информацией о тюнинге'

    def handle(self, *args, **options):
        """
        Обновление услуги "Автотюнинг"
        """
        try:
            service = Service.objects.get(slug='avtotyuning')
        except Service.DoesNotExist:
            self.stdout.write(
                self.style.ERROR('Услуга "Автотюнинг" не найдена. Сначала создайте её через create_services.')
            )
            return

        # Краткое описание для карточек
        short_description = (
            'Комплексный тюнинг автомобиля для улучшения внешнего вида и технических характеристик. '
            'Профессиональный подход и индивидуальные решения для каждого клиента.'
        )

        # Основное описание
        description = (
            'Тюнинг автомобилей — задача, требующая тщательного подхода и вкуса. '
            'Это работа над усовершенствованием эстетических и технических свойств Вашего автомобиля. '
            'Основная цель тюнинга автомобилей - это совершенствование, улучшение и оптимизация характеристик '
            '(мощности двигателя, надежность и качество тормозной системы, улучшение качества подвески). '
            'Так же под автотюнингом можно понимать создание индивидуального внешнего вида автомобиля '
            '(вид автомобиля и исполнение вида салона, современная и качественная аудиосистема, '
            'и все это не в ухудшение существующего вида) и др.\n\n'
            'Наше тюнинг ателье, стремится максимально улучшить качество Вашего автомобиля. '
            'Мы объединили профессионалов в сфере автотюнинга, для которых тюнинг — это не просто слово, '
            'а любимое дело, которое мы делаем профессионально и с душой.\n\n'
            'Рингтул – это тюнинг автомобиля, который собирается принимать участие в гоночных заездах. '
            'Эти самые рингтулы (профессиональные), собираются в тюнинг-ателье, а так же других местах, '
            'где специализируются на автомобилях для занятий автоспортом.'
        )

        # Дополнительный контент (HTML поддерживается)
        content = (
            '<h2>Тюнинг автомобилей. Направления.</h2>\n'
            '<p>В автотюнинге, выделяют несколько направлений:</p>\n\n'
            '<h3>Технический тюнинг</h3>\n'
            '<p>Тюнинг автомобилей — улучшение методом доработки или тонкой настройки технических свойств '
            'и характеристик автомобиля для повышения качества его динамических свойств путем изменения '
            'или доработки его узлов, механизмов и отдельных деталей. Изначально, понятие тюнинга означало '
            'улучшение технических свойств автомобиля, нежели его визуальное исполнение: улучшение двигателя '
            '(тюнинг двигателя автомобиля), подвески транспорта (тюнинг подвески автомобиля), '
            'тормозного механизма (тюнинг тормозов автомобиля). Все это делалось с одной целью - '
            'сделать автомобиль мощнее, быстрее и безопаснее.</p>\n\n'
            '<h3>Стайлинг автомобиля</h3>\n'
            '<p>Создание индивидуального стиля автомобиля за счет изменения внешнего вида. '
            'Такой стиль выделит Ваше авто среди будничной серой массы и привлечёт внимание окружающих. '
            'Для стайлинга характерна установка нестандартных спойлеров и бамперов, которые не успели '
            'надоесть окружающим. Окраска автомобиля так же может быть изменена для наибольшего эффекта, '
            'возможно использование нескольких цветов. При стайлинге автомобиля возможно установить подсветку '
            'на днище и другие решения использующие свет. Так же мы можем перетянуть салон кожей или алькантарой, '
            'установить качественную музыку. Также пользуется успехом установка авторесничек, авто-винила '
            'и другие различные приемы, которые существенно выделят Вас среди других стандартных автомобилей.</p>\n\n'
            '<h3>Шумоизоляция</h3>\n'
            '<p>Шумоизоляцию, можно выделить как один из способов автотюнинга. Хоть она и не улучшает внешний вид '
            'и параметры автомобиля, но за то придает комфорт нахождению в автомобиле.</p>\n\n'
            '<h3>Аэрография</h3>\n'
            '<p>Аэрография - один из методов тюнинга, позволяющий создать уникальный дизайн автомобиля.</p>\n\n'
            '<h2>Автотюнинг и его цена</h2>\n'
            '<p>Качественный автотюнинг не может быть дешевым. На хороший автотюнинг требуется больше времени '
            'и лучшие материалы для отделки, поэтому качество не может стоить очень дешево. Если Вы не хотите, '
            'что бы Ваш автомобиль был похож на новогоднюю ёлку, а именно такой он может стать при дешевом тюнинге, '
            'то обращайтесь к профессионалам. Наши специалисты посоветуют Вам интересные решения и качественно '
            'сделают автотюнинг.</p>'
        )

        # Список направлений/услуг
        features = (
            'Технический тюнинг (двигатель, подвеска, тормоза)\n'
            'Стайлинг автомобиля (спойлеры, бамперы, окраска)\n'
            'Перетяжка салона кожей или алькантарой\n'
            'Установка качественной аудиосистемы\n'
            'Установка подсветки на днище\n'
            'Автореснички и авто-винил\n'
            'Шумоизоляция\n'
            'Аэрография\n'
            'Рингтул (тюнинг для гоночных заездов)'
        )

        # Обновляем услугу
        service.short_description = short_description
        service.description = description
        service.content = content
        service.features = features
        service.save()

        logger.info(f'Услуга "{service.title}" успешно обновлена')
        self.stdout.write(
            self.style.SUCCESS(f'Услуга "{service.title}" успешно обновлена с подробной информацией')
        )
