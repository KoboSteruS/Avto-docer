"""
Команда для обновления услуги "Установка предпускового подогревателя двигателя" с подробной информацией
"""
from django.core.management.base import BaseCommand
from services.models import Service
from loguru import logger


class Command(BaseCommand):
    """
    Команда для обновления услуги "Установка предпускового подогревателя двигателя" с детальной информацией
    """
    help = 'Обновляет услугу "Установка предпускового подогревателя двигателя" с подробной информацией'

    def handle(self, *args, **options):
        """
        Обновление услуги "Установка предпускового подогревателя двигателя"
        """
        try:
            service = Service.objects.get(slug='ustanovka-predvpuskovogo-podogrevatelya-dvigatelya')
        except Service.DoesNotExist:
            self.stdout.write(
                self.style.ERROR('Услуга "Установка предпускового подогревателя двигателя" не найдена. Сначала создайте её через create_services.')
            )
            return

        # Краткое описание для карточек
        short_description = (
            'Установка современного подогрева двигателя и салона автомобиля. Качественные отопители Eberspächer и Webasto. '
            'Работа в экстремальных минусовых температурах.'
        )

        # Основное описание
        description = (
            'Наша компания установит современный подогрев двигателя и салона автомобиля, который соответствует высоким европейским требованиям и гарантирует '
            'качественную и долгую работу в экстремальных минусовых температурах.\n\n'
            'Мы устанавливаем на автомобили только качественные предпусковые подогреватели двигателя (отопители двигателя). Для оказания качественных услуг, '
            'мы сотрудничаем с таким лидером рынка отопительного оборудования как – Eberspächer и Webasto.\n\n'
            'Наши сотрудники прошли обучение в компании Eberspächer, что гарантирует качество выполненных работ соответствующее качеству самого оборудования.'
        )

        # Дополнительный контент (HTML поддерживается)
        content = (
            '<h2>Отопители двигателя Eberspächer</h2>\n'
            '<p>Предпусковые отопители Eberspächer давно зарекомендовали себя на рынке и качество продукции составляет достойную конкуренцию уже известной марке - Webasto '
            '(отопители вебасто). Компания производит по-настоящему качественное и проверенное временем оборудование для подогрева двигателя и салона автомобиля.</p>\n\n'
            '<p>Отопители двигателя Eberspächer универсальны, подходят для разных автомобилей.</p>\n\n'
            '<h2>Преимущества отопителей двигателя</h2>\n'
            '<h3>Комфорт и удобство</h3>\n'
            '<p>Установка автономного отопителя двигателя и салона значительно повышает комфортность нахождения в автомобиле. Теперь Вам не нужно сидеть в холодном авто и ждать '
            'когда автомобиль прогреется, чтобы начать движение. Подогрев двигателя и салона уже создаст для Вас благоприятные условия нахождения в Автомобиле. Пока Вы собираетесь '
            'в путь и собираете необходимые вещи или завтракаете – отопитель согреет двигатель машины и подогреет салон!</p>\n\n'
            '<p>Основное преимущество отопителей Eberspächer и Webasto. Долгая зима в нашей стране делает устройства для подогрева двигателя и салона автомобиля просто незаменимыми.</p>\n\n'
            '<h3>Автономность</h3>\n'
            '<p>Отопитель автомобиля работает независимо от двигателя. Подогрев машины не использует ресурс двигателя, он берет лишь небольшое количество топлива с Вашего топливного бака, '
            'чем обуславливает экономичность разогрева двигателя. При установке отопителя на различные виды автомобилей, возможны разные источники питания подогрева.</p>\n\n'
            '<h3>Прочность</h3>\n'
            '<p>Срок эксплуатации отопителей Eberspächer и Webasto более 10 лет, гарантия на устройство – 2 года. В случае необходимости отопитель легко переставить на другой автомобиль.</p>\n\n'
            '<h3>Многотопливность</h3>\n'
            '<p>Устройства для подогрева двигателя и салона автомобиля работают от топлива разных видов.</p>\n\n'
            '<h3>Компактный размер и тихая работа</h3>\n'
            '<p>Компактный размер и тихая работа отопителей Eberspächer и Webasto станут дополнительными преимуществами для салона вашего автомобиля. Никаких лишних проводов и дополнительных шумов.</p>\n\n'
            '<h3>Экологичность</h3>\n'
            '<p>При работе подогрева двигателя и салона в атмосферу не выбрасываются выхлопные газы.</p>\n\n'
            '<h2>Виды отопителей Eberspächer</h2>\n'
            '<h3>Жидкостные отопители</h3>\n'
            '<p>Жидкостные отопители способны нагревать не только двигатель Вашего авто, но и его салон. После работы отопителя салона, Вы попадаете в комфортный и уютный автомобиль и уже готовы начать движение.</p>\n\n'
            '<p>Нужно так же уточнить, что при прогретом двигателе, значительно упрощается его запуск в зимнее время. Аккумуляторная батарея значительно экономит свой ресурс, что очень важно в зимнее время.</p>\n\n'
            '<h3>Воздушные отопители</h3>\n'
            '<p>Для поддержания нормальной температуры в салоне автомобиля, например при стоянке ночью или подогреве во время Вашего отсутствия в нем, подойдут воздушные отопители.</p>\n\n'
            '<p>Воздушные отопители салона ни как не связаны с водяным контурам вашего авто. Воздушные отопители заметно экономят ресурсы автомобиля и позволяют работать подогреву салона с минимальным уровнем шума.</p>\n\n'
            '<p>С установленными нами обогревателями двигателя и обогревателями салона, Ваш автомобиль станет комфортнее и удобнее для поездок.</p>\n\n'
            '<h2>Установка предпускового подогревателя</h2>\n'
            '<p>Наши специалисты установят на Ваш автомобиль подогрев двигателя, который представляет собой систему в виде дополнительных подогревателей – автономных отопителей. '
            'Данные подогреватели подходят для классических легковых автомобилей, гибридных и электромобилей.</p>\n\n'
            '<p>Для гибридных автомобилей, наши специалисты установят специальный обогреватель, который позволят значительно сэкономить ресурс батареи машины. С помощью применения '
            'универсального и качественного оборудования для подогрева двигателя и салона автомобиля, возможно применение биоэтанола в качестве топлива (на соответствующих типах машин).</p>\n\n'
            '<p>Высокий КПД подогрева двигателя и салона – основная причина заказать установку отопителя машины именно у нас!</p>\n\n'
            '<h2>Цены и сроки установки</h2>\n'
            '<p>Информацию о стоимости и срокам установки отопителей двигателя вы можете получить по телефонам, указанным на сайте. Свяжитесь с нами для консультации и расчета стоимости услуг.</p>'
        )

        # Список направлений/услуг
        features = (
            'Установка подогрева двигателя\n'
            'Установка подогрева салона\n'
            'Отопители Eberspächer\n'
            'Отопители Webasto\n'
            'Жидкостные отопители\n'
            'Воздушные отопители\n'
            'Для легковых автомобилей\n'
            'Для гибридных автомобилей\n'
            'Для электромобилей\n'
            'Автономные отопители\n'
            'Предпусковые подогреватели\n'
            'Экономия ресурса батареи (для гибридов)\n'
            'Применение биоэтанола\n'
            'Высокий КПД\n'
            'Работа в экстремальных температурах\n'
            'Гарантия 2 года\n'
            'Срок эксплуатации более 10 лет\n'
            'Обученные специалисты Eberspächer'
        )

        # Обновляем услугу
        service.short_description = short_description
        service.description = description
        service.content = content
        service.features = features
        service.save()

        logger.info(f'Услуга "{service.title}" успешно обновлена')
        self.stdout.write(
            self.style.SUCCESS(f'Услуга "{service.title}" успешно обновлена с подробной информацией')
        )
