"""
Команда для обновления услуги "Аквапринт" с подробной информацией
"""
from django.core.management.base import BaseCommand
from services.models import Service
from loguru import logger


class Command(BaseCommand):
    """
    Команда для обновления услуги "Аквапринт" с детальной информацией
    """
    help = 'Обновляет услугу "Аквапринт" с подробной информацией'

    def handle(self, *args, **options):
        """
        Обновление услуги "Аквапринт"
        """
        try:
            service = Service.objects.get(slug='akvaprint')
        except Service.DoesNotExist:
            self.stdout.write(
                self.style.ERROR('Услуга "Аквапринт" не найдена. Сначала создайте её через create_services.')
            )
            return

        # Краткое описание для карточек
        short_description = (
            'Декорирование изделий специальными текстурами под камень, дерево, карбон и другие материалы. '
            'Прочная и долговечная технология для автомобилей и других объектов.'
        )

        # Основное описание
        description = (
            'Аквапринт – это декорирование изделий, которое впервые начали применять в Японии. '
            'Изделиям изменяли внешний вид декорируя их под камни, керамику, дерево, карбон и другие материалы. '
            'Материалы в виде пластика, керамики, стекла, металла, покрывают специальными текстурами, '
            'как раз и имитирующими другие поверхности.\n\n'
            'Данные текстуры очень прочны и при воздействии внешних факторов остаются в прежнем физическом состоянии. '
            'Такие практичные свойства аквапринта помогают ему долго оставаться красивым и выполнять не только '
            'декоративные функции, но и защитные.\n\n'
            'Первые транспортные средства, которые воспользовались технологией аквапринта были – Митсубиси, Ниссан, Тойота. '
            'Именно в этих машинах облагороженные поверхности украшали внутренний интерьер автомобиля.'
        )

        # Дополнительный контент (HTML поддерживается)
        content = (
            '<h2>Почему аквапринт так популярен?</h2>\n'
            '<p>Благодаря небольшой цене на данный вид печати, аквапринт быстро вошел в список услуг Российских авто ателье. '
            'По мимо авто ателье, услугами аквапринта заинтересовались другие компании. Сегодня аквапринт применяется '
            'в мебельной промышленности, рекламной индустрии, различной декоративной продукции, оружейном строении, '
            'а так же в производстве сувениров.</p>\n\n'
            '<p>Ежегодно услугами по нанесению аквапринта пользуются все чаще и чаще. Аквапринт становится популярен, '
            'в виду его доступности и ассортимента.</p>\n\n'
            '<h2>Что мы предлагаем</h2>\n'
            '<p>Автоателье Avto-Decor предлагает вам услуги по нанесению аквапринта на внешние и внутренние элементы автомобиля, '
            'на различные объекты и товары по выбору заказчика. Так как аквапринт не прихотлив, список элементов на которые '
            'возможно нанесение материала очень широк.</p>\n\n'
            '<p>Предлагаем вашему вниманию небольшую подборку фотографий, где был нанесен аквапринт.</p>\n\n'
            '<h2>Доверьтесь профессионалам</h2>\n'
            '<p>Доверьте работу над нанесением аквапринта профессионалам студии Avto-Decor. Работа по покрытию сопряжена '
            'с использованием химических реагентов и при нанесении их возможно попадание активных веществ на кожу человека, '
            'что согласитесь не очень приятно. Наши специалисты не только сделают грязную работу за вас, но и сэкономят '
            'время и деньги. В Avto-Decor вам покроют изделие аквапринтом исключая порчи вещи. После обработки аквапринтом, '
            'поверхность выглядит красиво и защищена от негативных внешних факторов.</p>\n\n'
            '<p>Приходите к нам и выберите понравившуюся пленку для покрытия.</p>'
        )

        # Список направлений/услуг
        features = (
            'Нанесение на внешние элементы автомобиля\n'
            'Нанесение на внутренние элементы автомобиля\n'
            'Декорирование под камень\n'
            'Декорирование под дерево\n'
            'Декорирование под карбон\n'
            'Декорирование под керамику\n'
            'Нанесение на пластик\n'
            'Нанесение на металл\n'
            'Нанесение на стекло\n'
            'Нанесение на различные объекты по выбору заказчика'
        )

        # Обновляем услугу
        service.short_description = short_description
        service.description = description
        service.content = content
        service.features = features
        service.save()

        logger.info(f'Услуга "{service.title}" успешно обновлена')
        self.stdout.write(
            self.style.SUCCESS(f'Услуга "{service.title}" успешно обновлена с подробной информацией')
        )
