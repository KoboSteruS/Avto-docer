# ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ Telegram Bot API: 20MB –¥–ª—è –≤–∏–¥–µ–æ

## –ü—Ä–æ–±–ª–µ–º–∞

Telegram Bot API **–ù–ï –ø–æ–∑–≤–æ–ª—è–µ—Ç** —Å–∫–∞—á–∏–≤–∞—Ç—å –≤–∏–¥–µ–æ —Ñ–∞–π–ª—ã –±–æ–ª—å—à–µ **20MB** —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ `getFile`.

### –û—à–∏–±–∫–∞:

```json
{
  "ok": false,
  "error_code": 400,
  "description": "Bad Request: file is too big"
}
```

---

## üéØ –¢–µ–∫—É—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ

–í–∏–¥–µ–æ **< 20MB** ‚Üí —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ streaming proxy  
–í–∏–¥–µ–æ **> 20MB** ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ

---

## üöÄ –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö –≤–∏–¥–µ–æ

### **–í–∞—Ä–∏–∞–Ω—Ç 1: Pyrogram (MTProto API)** ‚≠ê –õ–£–ß–®–ï–ï

**–ü–ª—é—Å—ã:**
- ‚úÖ –ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è 20MB
- ‚úÖ –°–∫–∞—á–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ –ª—é–±–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç —Å —Ñ–æ—Ä–≤–∞—Ä–¥–∞–º–∏

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –ù—É–∂–µ–Ω API ID/Hash (–±–µ—Å–ø–ª–∞—Ç–Ω–æ –Ω–∞ https://my.telegram.org/apps)
- ‚ö†Ô∏è –†–∞–±–æ—Ç–∞–µ—Ç –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–µ –±–æ—Ç–∞)

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞:**
```bash
pip install pyrogram tgcrypto
```

**–ö–æ–¥:**
```python
from pyrogram import Client

app = Client("my_session", api_id=YOUR_API_ID, api_hash="YOUR_API_HASH")

async with app:
    message = await app.get_messages(chat_id, message_id)
    await app.download_media(message.video, file_name="video.mp4")
```

---

### **–í–∞—Ä–∏–∞–Ω—Ç 2: –°–∫–∞—á–∏–≤–∞—Ç—å –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ**

**–ò–¥–µ—è:** –°–∫–∞—á–∏–≤–∞—Ç—å –≤–∏–¥–µ–æ < 20MB —Å—Ä–∞–∑—É –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ `media/articles/videos/`

**–ü–ª—é—Å—ã:**
- ‚úÖ –í–∏–¥–µ–æ –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–æ
- ‚úÖ –ù–µ –∑–∞–≤–∏—Å–∏–º –æ—Ç Telegram

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ó–∞–Ω–∏–º–∞–µ—Ç –º–µ—Å—Ç–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- ‚ùå –ù–µ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –≤–∏–¥–µ–æ > 20MB

---

### **–í–∞—Ä–∏–∞–Ω—Ç 3: –•—Ä–∞–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –º–∞–ª–µ–Ω—å–∫–∏–µ –≤–∏–¥–µ–æ**

**–ò–¥–µ—è:** –í–∏–¥–µ–æ > 20MB –ø—Ä–æ—Å—Ç–æ –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å placeholder

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü—Ä–æ—Å—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å
- ‚úÖ –ù–µ –Ω—É–∂–Ω—ã –¥–æ–ø –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –¢–µ—Ä—è–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç
- ‚ùå –ü–ª–æ—Ö–æ–π UX

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

–ò–∑ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ:
- **42.5MB** ‚Äî –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚ùå
- **21.6MB** ‚Äî –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚ùå

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Pyrogram –¥–ª—è –≤–∏–¥–µ–æ > 20MB –∏–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å —Ä–∞–∑–º–µ—Ä –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏.

---

## üîß –ö–∞–∫ –≤–∫–ª—é—á–∏—Ç—å Pyrogram

1. –ü–æ–ª—É—á–∏ API credentials: https://my.telegram.org/apps
2. –£—Å—Ç–∞–Ω–æ–≤–∏: `pip install pyrogram tgcrypto`
3. –û–±–Ω–æ–≤–∏ `batch_import_posts.py` –∏ `run_unified_bot.py`
4. –î–æ–±–∞–≤—å –≤ `.env`:
   ```env
   TELEGRAM_API_ID=12345678
   TELEGRAM_API_HASH=abcdef1234567890
   ```

---

## üìù –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

**–§–∞–π–ª—ã:**
- `articles/views/video_proxy.py` ‚Äî –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É "file is too big"
- `templates/articles/articles_list.html` ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
- `templates/articles/article_detail.html` ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ

**–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É
2. –í–∏–¥–µ–æ –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è
3. –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ 413/500 ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ: "‚ö†Ô∏è –í–∏–¥–µ–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ (> 20MB)"

---

**–ê–≤—Ç–æ—Ä:** AI Assistant  
**–î–∞—Ç–∞:** 25.01.2026
